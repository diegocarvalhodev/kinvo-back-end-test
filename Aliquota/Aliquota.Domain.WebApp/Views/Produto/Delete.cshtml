@model Aliquota.Domain.WebApp.Views.ViewModel.ProdutoDeleteViewModel

@{
    ViewData["Title"] = "Exclusão";
}

<h1>Exclusão de Produto Financeiro</h1>

<p class="mt-3 mb-3">Você tem certeza que deseja excluir <b>@(Model.Produto.Nome)</b>?</p>

<div>
    <hr />
    <dl class="row mt-3">
        <dt class="col-sm-3">
            @Html.DisplayNameFor(model => model.Produto.Nome)
        </dt>
        <dd class="col-sm-9">
            @Html.DisplayFor(model => model.Produto.Nome)
        </dd>
        <dt class="col-sm-3">
            @Html.DisplayNameFor(model => model.Produto.TaxaRendimentoAnual)
        </dt>
        <dd class="col-sm-9">
            @Html.DisplayFor(model => model.Produto.TaxaRendimentoAnual)
        </dd>
    </dl>

    <!-- Alert: produto não pode ser excluído -->
    <div @(Model.QtdInvestimento == 0 ? "hidden" : "")>
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <strong>Exclusão não permitida:</strong> existem investimentos vinculados ao produto financeiro @Model.Produto.ToString()
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </div>

    <div class="mt-5">

        <div @(Model.QtdInvestimento == 0 ? "" : "hidden")>
            <form asp-action="Delete">
                <input type="hidden" asp-for="Produto.Id" />
                <a class="btn btn-light m-2" asp-action="Index">Voltar</a>
                <input type="submit" class="btn btn-danger m-2" value="Delete" />
            </form>
        </div>

        <div @(Model.QtdInvestimento != 0 ? "" : "hidden")>
            <a class="btn btn-light m-2" asp-action="Index">Voltar</a>
        </div>

    </div>

</div>



